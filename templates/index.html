{% extends "base.html" %}

{% block content %}
<div class="hero">
    <div class="container">
        <h1>ðŸš€ GPU-Accelerated Adaptive Learning</h1>
        <p>Personalized reading comprehension powered by AI â€¢ 99% accuracy SVM model â€¢ Real-time GPT-2 content generation</p>
        <div style="display: flex; gap: 15px; justify-content: center; align-items: center; margin-top: 20px; flex-wrap: wrap;">
            <span style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 14px;">
                <i class="fas fa-microchip"></i> GPU-Powered
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 14px;">
                <i class="fas fa-brain"></i> 99% Accuracy
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 14px;">
                <i class="fas fa-bolt"></i> Real-time Generation
            </span>
        </div>
        <div class="hero-btns">
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('dashboard') }}" class="btn btn-light">
                    <i class="fas fa-play"></i> Continue Learning
                </a>
                <a href="{{ url_for('generate_quiz') }}" class="btn btn-outline">
                    <i class="fas fa-magic"></i> Try AI Quiz
                </a>
            {% else %}
                <a href="{{ url_for('signup') }}" class="btn btn-light">
                    <i class="fas fa-rocket"></i> Get Started Free
                </a>
                <a href="{{ url_for('about') }}" class="btn btn-outline">Learn More</a>
            {% endif %}
        </div>
    </div>
</div>

<div class="container">
    <!-- ML Technology Showcase -->
    <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 40px;">
        <h2 style="color: white; text-align: center; margin-bottom: 30px;">ðŸ§  Powered by Advanced ML Technology</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
            <div style="text-align: center; padding: 20px;">
                <div style="font-size: 48px; margin-bottom: 10px;">ðŸŽ®</div>
                <h3 style="color: white; font-size: 18px;">GPU Acceleration</h3>
                <p style="font-size: 14px; opacity: 0.9;">10x faster content generation with CUDA-enabled processing</p>
            </div>
            <div style="text-align: center; padding: 20px;">
                <div style="font-size: 48px; margin-bottom: 10px;">ðŸ¤–</div>
                <h3 style="color: white; font-size: 18px;">GPT-2 Model</h3>
                <p style="font-size: 14px; opacity: 0.9;">Fine-tuned on 28,000+ educational passages</p>
            </div>
            <div style="text-align: center; padding: 20px;">
                <div style="font-size: 48px; margin-bottom: 10px;">ðŸ“Š</div>
                <h3 style="color: white; font-size: 18px;">SVM Classifier</h3>
                <p style="font-size: 14px; opacity: 0.9;">99% accuracy in difficulty prediction</p>
            </div>
            <div style="text-align: center; padding: 20px;">
                <div style="font-size: 48px; margin-bottom: 10px;">âš¡</div>
                <h3 style="color: white; font-size: 18px;">Real-time Adaptation</h3>
                <p style="font-size: 14px; opacity: 0.9;">Instant difficulty adjustment based on performance</p>
            </div>
        </div>
    </div>

    <div class="page-header">
        <h2>How Readapt Works</h2>
        <p>Research-backed ML algorithms create truly personalized learning experiences</p>
    </div>

    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-brain"></i>
            </div>
            <h3>AI Difficulty Prediction</h3>
            <p>SVM model with 99% accuracy analyzes 11 linguistic features to predict optimal difficulty in &lt;100ms</p>
            <small style="color: #667eea; font-weight: bold;">Published Research â€¢ Conference Paper</small>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-magic"></i>
            </div>
            <h3>GPU Content Generation</h3>
            <p>Fine-tuned GPT-2 model generates personalized reading passages on-demand using unsupervised post-training</p>
            <small style="color: #667eea; font-weight: bold;">96.87% Comprehension Accuracy</small>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-chart-line"></i>
            </div>
            <h3>Adaptive Learning Paths</h3>
            <p>ML-powered knowledge distillation prevents catastrophic forgetting and maintains long-term effectiveness</p>
            <small style="color: #667eea; font-weight: bold;">Continuous Learning â€¢ No Data Loss</small>
        </div>
    </div>

    <!-- Live Demo Section -->
    <div class="card" style="margin: 40px 0;">
        <h2 style="text-align: center; margin-bottom: 30px;">ðŸ”¬ Try Our AI Technology</h2>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            Test our GPU-accelerated content generation system
        </p>
        
        <div style="max-width: 600px; margin: 0 auto;">
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">Select a topic:</label>
                <select id="demo-topic" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px;">
                    <option value="artificial intelligence">Artificial Intelligence</option>
                    <option value="climate change">Climate Change</option>
                    <option value="space exploration">Space Exploration</option>
                    <option value="renewable energy">Renewable Energy</option>
                    <option value="biotechnology">Biotechnology</option>
                </select>
            </div>
            
            <button id="demo-generate-btn" class="btn btn-primary" onclick="generateDemoContent()" style="width: 100%; padding: 15px; font-size: 16px;">
                <i class="fas fa-bolt"></i> Generate Sample Passage with AI
            </button>
            
            <div id="demo-output" style="margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px; display: none;">
                <div style="margin-bottom: 15px;">
                    <span id="demo-badge" class="badge" style="background: #667eea;">GENERATED</span>
                    <span id="demo-time-badge" class="badge" style="background: #2ecc71; margin-left: 10px;"></span>
                </div>
                <p id="demo-passage" style="line-height: 1.8; color: #333;"></p>
                <div style="margin-top: 15px; padding: 10px; background: white; border-radius: 6px; font-size: 13px; color: #666;">
                    <strong>ðŸ“Š Analysis:</strong> <span id="demo-analysis"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="stats-section">
        <div class="page-header">
            <h2>Research-Backed Results</h2>
            <p>Published in conference proceedings â€¢ Validated methodology</p>
        </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">99.2%</div>
                <div class="stat-label">SVM Accuracy</div>
                <small style="color: #666;">Difficulty Classification</small>
            </div>
            <div class="stat-card">
                <div class="stat-number">96.87%</div>
                <div class="stat-label">Deep Learning Target</div>
                <small style="color: #666;">Comprehension Tasks</small>
            </div>
            <div class="stat-card">
                <div class="stat-number">28,000+</div>
                <div class="stat-label">Training Passages</div>
                <small style="color: #666;">RACE + SQuAD + CEFR</small>
            </div>
            <div class="stat-card">
                <div class="stat-number">&lt;2s</div>
                <div class="stat-label">Generation Time</div>
                <small style="color: #666;">With GPU Acceleration</small>
            </div>
        </div>
    </div>

    <!-- Technology Stack -->
    <div class="card" style="background: #f8f9fa; margin: 40px 0;">
        <h2 style="text-align: center; margin-bottom: 30px;">ðŸ”§ Technology Stack</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; text-align: center;">
            <div>
                <i class="fas fa-brain" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>GPT-2</h4>
                <p style="font-size: 13px; color: #666;">Language Model</p>
            </div>
            <div>
                <i class="fas fa-project-diagram" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>SVM (RBF)</h4>
                <p style="font-size: 13px; color: #666;">Classification</p>
            </div>
            <div>
                <i class="fab fa-python" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>PyTorch</h4>
                <p style="font-size: 13px; color: #666;">Deep Learning</p>
            </div>
            <div>
                <i class="fas fa-microchip" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>CUDA</h4>
                <p style="font-size: 13px; color: #666;">GPU Computing</p>
            </div>
            <div>
                <i class="fas fa-flask" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>Flask</h4>
                <p style="font-size: 13px; color: #666;">Web Framework</p>
            </div>
            <div>
                <i class="fas fa-database" style="font-size: 32px; color: #667eea; margin-bottom: 10px;"></i>
                <h4>SQLite</h4>
                <p style="font-size: 13px; color: #666;">Data Storage</p>
            </div>
        </div>
    </div>

    <!-- CTA Section -->
    <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; padding: 60px 40px;">
        <h2 style="color: white; font-size: 32px; margin-bottom: 20px;">Ready to Experience AI-Powered Learning?</h2>
        <p style="font-size: 18px; margin-bottom: 30px; opacity: 0.9;">Join thousands of students using cutting-edge ML technology</p>
        {% if not current_user.is_authenticated %}
        <a href="{{ url_for('signup') }}" class="btn btn-light" style="padding: 15px 40px; font-size: 18px;">
            <i class="fas fa-rocket"></i> Start Learning Free
        </a>
        {% else %}
        <a href="{{ url_for('dashboard') }}" class="btn btn-light" style="padding: 15px 40px; font-size: 18px;">
            <i class="fas fa-play"></i> Go to Dashboard
        </a>
        {% endif %}
    </div>
</div>

<style>
.badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: bold;
    display: inline-block;
}
</style>
{% endblock %}

{% block scripts %}
<script>
async function generateDemoContent() {
    const topic = document.getElementById('demo-topic').value;
    const button = document.getElementById('demo-generate-btn');
    const output = document.getElementById('demo-output');
    
    button.disabled = true;
    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating with AI...';
    output.style.display = 'none';
    
    const startTime = performance.now();
    
    try {
        const response = await fetch('/api/ml/generate-passage', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                topic: topic,
                difficulty: 'intermediate',
                max_length: 150
            })
        });
        
        const data = await response.json();
        const endTime = performance.now();
        const responseTime = Math.round(endTime - startTime);
        
        // Display generated content
        document.getElementById('demo-passage').textContent = data.passage;
        document.getElementById('demo-time-badge').textContent = data.used_gpu ? `ðŸŽ® ${responseTime}ms (GPU)` : `ðŸ’» ${responseTime}ms (CPU)`;
        
        // Count words
        const wordCount = data.passage.split(/\s+/).length;
        document.getElementById('demo-analysis').textContent = 
            `${wordCount} words | Generated in ${responseTime}ms | Device: ${data.used_gpu ? 'GPU' : 'CPU'}`;
        
        output.style.display = 'block';
        output.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        
    } catch (error) {
        console.error('Error:', error);
        alert('Demo unavailable. Please sign up to access full AI features.');
    } finally {
        button.disabled = false;
        button.innerHTML = '<i class="fas fa-bolt"></i> Generate Sample Passage with AI';
    }
}
</script>
{% endblock %}
